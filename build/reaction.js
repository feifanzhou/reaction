(function(){var t,e;window.Reaction||(window.Reaction={}),"undefined"!=typeof module&&(module.exports=window.Reaction),t=function(t,e){var r,n,o,i,u,a;for(r=arguments[2],i=t.split("."),n=i.pop(),u=0,a=i.length;a>u;u++)o=i[u],e=e[i[o]];return"undefined"==typeof e[n]||null===e[n]?null:e[n].apply(this,[r])},e=function(){return void 0!==typeof Storage||"undefined"!=typeof Storage},Reaction.Router={_routes:{},_target:null,getCurrentPath:function(){return window.location.pathname.slice(1)},initialize:function(t,e){return this._target=e,this.route(t),this.start()},linkTo:function(t){return this.renderRoute(t,!0)},renderComponent:function(e,r){var n;return r="undefined"==typeof r?{}:r,n=t(e,Reaction,r),this._target||(this._target=document.getElementById("root")),React.renderComponent(n,this._target)},renderError:function(t,e){var r,n;return r="Error"+t,n={currPath:this.getCurrentPath()},this.renderComponent(r)},renderRoute:function(t,e){var r,n,o,i,u,a,s,d,f,h;if("/"!==t.charAt(0)&&(t="/"+t),e="undefined"==typeof e?!0:e,f={currPath:t},h=0===t.length||null===t?"/":t,e?window.history.pushState(f,"",h):window.history.replaceState(f,"",h),n=0===t.length||"/"===t?this._routes._root:this._routes[t],"undefined"==typeof n){s={};for(u in this._routes)if(this._routes.hasOwnProperty(u)&&(o=u.split("/"),d=t.split("/"),a=!0,o.length===d.length)){for(i in o)if(r=o[i],":"===r.charAt(0))s[r.substring(1)]=d[i];else if(r!==d[i]){a=!1;continue}if(a){n=this._routes[u];break}}}return"undefined"==typeof n?this.renderError(404,t):this.renderComponent(n,s)},route:function(t){return this._routes=t},start:function(){var t,e;return t=this.getCurrentPath(),this.renderRoute(t,!1),e=this,window.addEventListener("click",function(t){var r;return t.target&&t.target.hasAttribute("href")?(r=t.target.getAttribute("href"),r.length>0&&e.renderRoute(r),t.preventDefault()):void 0}),window.onpopstate=function(t){var r,n;if("undefined"!=typeof t.state&&null!==t.state&&"undefined"!=typeof t.state.currPath){if(n=t.state.currPath,"undefined"==typeof n)return void e.renderRoute("/",!1);if(r=e.getCurrentPath(),n!==r)return e.renderRoute(n,!1)}}}}}).call(this);
//# sourceMappingURL=./reaction.map